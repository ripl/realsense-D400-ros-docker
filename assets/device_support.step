#!/bin/bash

# REALSENSE
echo 'Installing support for RealSense Cameras'

# Required to install librealsense
# per Step 2 of https://github.com/IntelRealSense/realsense-ros/tree/ros1-legacy
# which points to https://github.com/IntelRealSense/librealsense/blob/master/doc/distribution_linux.md#installing-the-packages
apt-key adv \
  --keyserver keyserver.ubuntu.com \
  --recv-key F6E65AC044F831AC80A06380C8B3A55A6F3EFCDE \
  || apt-key adv \
  --keyserver hkp://keyserver.ubuntu.com:80 \
  --recv-key F6E65AC044F831AC80A06380C8B3A55A6F3EFCDE

add-apt-repository \
  "deb https://librealsense.intel.com/Debian/apt-repo $(lsb_release -cs) main" \
  -u
# install dependencies
apt update \
&& apt install -y \
  librealsense2-dkms \
  librealsense2-utils \
  librealsense2-dev \
  librealsense2-dbg \
&& rm -rf /var/lib/apt/lists/*
